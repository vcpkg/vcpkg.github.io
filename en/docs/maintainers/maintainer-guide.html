<head>
    <meta name="viewport" content="width=device-width">
    <link rel="icon" href="/assets/mark/mark.svg" />
        <link rel="icon" href="/assets/mark/favicon.png" />
        <link rel="mask-icon" href="/assets/mark/favicon-mask-icon.svg" />
    
        <!-- boostrap style sheet -->
        <link
          rel="stylesheet"
          href="https://ajax.aspnetcdn.com/ajax/bootstrap/4.5.0/css/bootstrap.min.css"
          integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk"
          crossorigin="anonymous"
        />
        <link
          rel="stylesheet"
          href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.7.1/build/styles/default.min.css"
          integrity="sha384-s4RLYRjGGbVqKOyMGGwfxUTMOO6D7r2eom7hWZQ6BjK2Df4ZyfzLXEkonSm0KLIQ"
          crossorigin="anonymous"
        />
    
        <!-- our style sheet and fonts -->
        <link href="/css/common.css" rel="stylesheet" />
        <link href="/css/getting-started.css" rel="stylesheet" />
    
        <!-- bootstrap scripts -->
        <script type="text/javascript"
          src="https://js.monitor.azure.com/scripts/c/ms.analytics-web-3.min.js">
        </script>
        <script src="https://wcpstatic.microsoft.com/mscc/lib/v2/wcp-consent.js"></script>
        <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.6.0.min.js"></script>
        <script
          src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6"
          integrity="sha384-UBGmRyNtwBeGap4zdtKXLwUHdLJM9M/aSMLo8NaIzCxnLxYU6F9+V8veOXP3Fakh"
          crossorigin="anonymous"
        ></script>
        <script
          src="https://ajax.aspnetcdn.com/ajax/bootstrap/4.5.0/bootstrap.min.js"
          integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI"
          crossorigin="anonymous"
        ></script>
        <script
          src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.7.1/build/highlight.min.js"
          integrity="sha384-DmE/PJ3PvpXS92Z4Sn7vSRTqJd0T/2xkGtNgm2JaZFczBOZdCf3XbZOwnRHDgjAA"
          crossorigin="anonymous"
        ></script>
        <script
          src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.7.1/build/languages/cmake.min.js"
          integrity="sha384-x//ggWQQKDYM6gkxzOdTUJNX9tNhjYBuM1SkQ3kgwzlFH9cxNW2meFXccjs06ubh"
          crossorigin="anonymous"
        ></script>
        <script
          src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.7.1/build/languages/powershell.min.js"
          integrity="sha384-+05Cp42tk0QutdpySQ0HsmEskItQQcyh04nmNheHuy1epFAdvUC9kpiwJk9lx419"
          crossorigin="anonymous"
        ></script>
    
        <!-- our scripts -->
        <script src="/dist/common.js"></script>
        <script src="/dist/documentation.js"></script>
    </head>
    <div id="loadNavBar"><nav class="navbar-background navbar navbar-expand-lg navbar-light fixed-top">
  <a href="#main" class="main-link" tabindex="10000">Skip to Main Content</a>
  <a class="navbar-brand align-baseline" href="/en/index.html">
    <span id="vcpkg-nav-logo" class=""
      ><img src="/assets/mark/mark.svg" width="16px" height="16px" alt="" class="icon" />
      vcpkg</span
    >
  </a>
  <button class="navbar-toggler" type="button" onclick="toggleNavIcon()">
    <span class="navbar-toggler-icon"></span>
  </button>

  <button class="navbar-toggler hidden" type="button" onclick="toggleNavIcon()">
    <span class="navbar-close hidden"></span>
  </button>
  <div class="collapse navbar-collapse align-items-center nav-vcpkg-bar" id="navbarResponsive">
    <ul class="navbar-nav ml-auto navbar-right-margin">
      <li class="nav-item active" onmouseover="addMouseLeave()">
        <a class="nav-link nav-link-hover" href="/en/getting-started.html">Get Started </a>
      </li>
      <li class="nav-item active" onmouseover="addMouseLeave()">
        <a class="nav-link nav-link-hover" href="/en/packages.html">Packages</a>
      </li>
      <li class="nav-item active">
        <div class="nav-link">
        <div style="display: inline-block" onmouseover="addMouseOverNavigation()"><a class="doc-outline-link docs-upper-nav-link" href="/en/docs/README.html"
          >Documentation</a></div>
        <div style="display: inline-block" onclick="docsNavButton()">
        <button class="doc-nav-button">
          <img src="/assets/misc/docs.svg" width="10px" height="10px" alt="" class="" /></button></div>
      </div>
      </li>
      <li class="nav-item active" onmouseover="addMouseLeave()">
        <a class="nav-link nav-link-hover" href="https://github.com/microsoft/vcpkg">GitHub</a>
      </li>
      <li class="nav-item active" onmouseover="addMouseLeave()">
        <a class="nav-link nav-link-hover" href="https://devblogs.microsoft.com/search?query=vcpkg">Blog</a>
      </li>
    </ul>
  </div>

  <div class="mobile-nav hidden">
    <div class="mobile-margin">
      <ul class="mobile-nav-list">
        <li class="mobile-nav-item">
          <a class="navbar-mobile" href="/en/getting-started.html">Get Started</a>
        </li>
        <li class="mobile-nav-item">
          <a class="navbar-mobile" href="/en/packages.html">Packages</a>
        </li>
        <li class="mobile-nav-item"><a class="navbar-mobile" href="/en/docs/README.html">Documentation</a></li>
        <ul class="mobile-docs-list">
          <li><a class="navbar-mobile" href="/en/docs/README.html">Quick Start</a></li>
          <li><a class="navbar-mobile" href="/en/docs/about/faq.html">About</a></li>
          <li>
            <a class="navbar-mobile" href="/en/docs/examples/installing-and-using-packages.html"
              >Examples</a
            >
          </li>
          <li>
            <a class="navbar-mobile" href="/en/docs/maintainers/control-files.html">Maintainers</a>
          </li>
          <li><a class="navbar-mobile" href="/en/docs/users/binarycaching.html">Users</a></li>
        </ul>
        <li class="mobile-nav-item">
          <a class="navbar-mobile" href="https://github.com/microsoft/vcpkg">Github</a>
        </li>
        <li class="mobile-nav-item">
          <a class="navbar-mobile" href="https://devblogs.microsoft.com/search?query=vcpkg">Blog</a>
        </li>
      </ul>
    </div>
  </div>
</nav>
<div class="docs-nav" onmouseleave="addMouseLeave()">
  <div class="docs-flex">
    <div class="docs-column">
      <ul class="docs-col-section">
        <li class="docs-col-bold">
          <a class="docs-nav-link" href="/en/docs/README.html">Quick Start</a>
        </li>
      </ul>

      <ul class="docs-col-section">
        <li class="docs-col-bold">About</li>
        <li class=""><a class="docs-nav-link" href="/en/docs/about/faq.html">FAQ</a></li>
        <li class=""><a class="docs-nav-link" href="/en/docs/about/privacy.html">Privacy</a></li>
      </ul>
    </div>
    <div class="docs-column">
      <ul class="docs-col-section">
        <li class="docs-col-bold">Examples</li>
        <li class="">
          <a class="docs-nav-link" href="/en/docs/examples/installing-and-using-packages.html"
            >Installing and Using Packages</a
          >
        </li>
        <li class="">
          <a class="docs-nav-link" href="/en/docs/examples/modify-baseline-to-pin-old-boost.html"
            >Modifying Baseline to pin old Boost versions</a
          >
        </li>
        <li class="">
          <a class="docs-nav-link" href="/en/docs/examples/overlay-triplets-linux-dynamic.html"
            >Overlay Triplets Linux Dynamic</a
          >
        </li>
        <li class="">
          <a class="docs-nav-link" href="/en/docs/examples/packaging-github-repos.html"
            >Packaging Github Repos</a
          >
        </li>
        <li class="">
          <a class="docs-nav-link" href="/en/docs/examples/patching.html">Patching</a>
        </li>
      </ul>
    </div>
    <div class="docs-column">
      <ul class="docs-col-section">
        <li class="docs-col-bold">Maintainers</li>
        <li class="">
          <a class="docs-nav-link" href="/en/docs/maintainers/control-files.html">Control Files</a>
        </li>
        <li class="">
          <a class="docs-nav-link" href="/en/docs/maintainers/maintainer-guide.html"
            >Maintainer Guide</a
          >
        </li>
        <li class="">
          <a class="docs-nav-link" href="/en/docs/maintainers/manifest-files.html"
            >Manifest Files</a
          >
        </li>
        <li class="">
          <a class="docs-nav-link" href="/en/docs/maintainers/portfile-functions.html"
            >Portfile Functions</a
          >
        </li>
      </ul>
    </div>
    <div class="docs-column">
      <ul class="docs-col-section">
        <li class="docs-col-bold">Users</li>
        <li class=""><a class="docs-nav-link" href="/en/docs/users/android.html">Android</a></li>
        <li class="">
          <a class="docs-nav-link" href="/en/docs/users/binarycaching.html">Binary Caching</a>
        </li>
        <li class="">
          <a class="docs-nav-link" href="/en/docs/users/buildsystems/integration.html">Integration</a>
        </li>
        <li class="">
          <a class="docs-nav-link" href="/en/docs/users/versioning.html"
            >Versioning</a
          >
        </li>
      </ul>
    </div>
  </div>
</div>
</div>
    <div id="banner"></div>
    <div class="page">
    <nav class="left-side">
      <div class="docs-mobile-heading hidden">Table of Contents</div>
      <div class="docs-mobile-exit hidden"><img class="docs-mobile-exit-icon" src="/assets/misc/exit-docs.svg"></div>
      <div class="search-bar">
        <input
                  class="search-box"
                  id="pkg-search"
                  type="search"
                  name="search"
                  placeholder="Search"
                  autocomplete="off"
                  oninput=""
                />
        <ul class="search hidden">
        </ul>
      </div>
      <div id="docsNavPane"><ul class=docs-navigation><li class="list-expanded"><button class="button-list-can-expand">About</button></li>
<ul class="standard-padding collapsable">
<a class="doc-outline-link" href="/en/docs/about/faq.html"><li class="list-can-expand">Frequently Asked Questions</li></a>
<a class="doc-outline-link" href="/en/docs/about/privacy.html"><li class="list-can-expand">Vcpkg Telemetry and Privacy</li></a>
</ul>
<li class="list-expanded"><button class="button-list-can-expand">Commands</button></li>
<ul class="standard-padding collapsable">
<a class="doc-outline-link" href="/en/docs/commands/common-options.html"><li class="list-can-expand">Common Command Options</li></a>
<a class="doc-outline-link" href="/en/docs/commands/install.html"><li class="list-can-expand">vcpkg install</li></a>
<a class="doc-outline-link" href="/en/docs/commands/integrate.html"><li class="list-can-expand">vcpkg integrate</li></a>
<a class="doc-outline-link" href="/en/docs/commands/remove.html"><li class="list-can-expand">vcpkg remove</li></a>
<a class="doc-outline-link" href="/en/docs/commands/search.html"><li class="list-can-expand">vcpkg search</li></a>
<a class="doc-outline-link" href="/en/docs/commands/update-baseline.html"><li class="list-can-expand">vcpkg x-update-baseline</li></a>
</ul>
<li class="list-expanded"><button class="button-list-can-expand">Examples</button></li>
<ul class="standard-padding collapsable">
<a class="doc-outline-link" href="/en/docs/examples/installing-and-using-packages.html"><li class="list-can-expand">Installing and Using Packages Example: SQLite</li></a>
<a class="doc-outline-link" href="/en/docs/examples/manifest-mode-cmake.html"><li class="list-can-expand">Manifest Mode: CMake Example</li></a>
<a class="doc-outline-link" href="/en/docs/examples/modify-baseline-to-pin-old-boost.html"><li class="list-can-expand">Pin old Boost versions</li></a>
<a class="doc-outline-link" href="/en/docs/examples/overlay-triplets-linux-dynamic.html"><li class="list-can-expand">Using Overlay Triplets</li></a>
<a class="doc-outline-link" href="/en/docs/examples/packaging-github-repos.html"><li class="list-can-expand">Packaging Github Repos Example: libogg</li></a>
<a class="doc-outline-link" href="/en/docs/examples/packaging-zipfiles.html"><li class="list-can-expand">Packaging <code>.zip</code> Files Example: zlib</li></a>
<a class="doc-outline-link" href="/en/docs/examples/patching.html"><li class="list-can-expand">Patching Example: Patching libpng to work for x64-uwp</li></a>
<a class="doc-outline-link" href="/en/docs/examples/versioning.getting-started.html"><li class="list-can-expand">Get Started with Versioning</li></a>
</ul>
<li class="list-expanded"><button class="button-list-can-expand">Maintainers</button></li>
<ul class="standard-padding collapsable">
<li class="list-expanded"><button class="button-list-can-expand">Internal</button></li>
<ul class="standard-padding collapsable">
<a class="doc-outline-link" href="/en/docs/maintainers/internal/vcpkg_catalog_release_process.html"><li class="list-can-expand">vcpkg_catalog_release_process</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/internal/vcpkg_tool_release_process.html"><li class="list-can-expand">vcpkg_tool_release_process</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/internal/z_vcpkg_apply_patches.html"><li class="list-can-expand">z_vcpkg_apply_patches</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/internal/z_vcpkg_forward_output_variable.html"><li class="list-can-expand">z_vcpkg_forward_output_variable</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/internal/z_vcpkg_function_arguments.html"><li class="list-can-expand">z_vcpkg_function_arguments</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/internal/z_vcpkg_get_cmake_vars.html"><li class="list-can-expand">z_vcpkg_get_cmake_vars</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/internal/z_vcpkg_prettify_command_line.html"><li class="list-can-expand">z_vcpkg_prettify_command_line</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/internal/z_vcpkg_setup_pkgconfig_path.html"><li class="list-can-expand">z_vcpkg_setup_pkgconfig_path</li></a>
</ul>
<li class="list-expanded"><button class="button-list-can-expand">Ports</button></li>
<ul class="standard-padding collapsable">
<li class="list-expanded"><button class="button-list-can-expand">vcpkg-cmake-config</button></li>
<ul class="standard-padding collapsable">
<a class="doc-outline-link" href="/en/docs/maintainers/ports/vcpkg-cmake-config.html"><li class="list-can-expand">vcpkg-cmake-config</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/ports/vcpkg-cmake-config/vcpkg_cmake_config_fixup.html"><li class="list-can-expand">vcpkg_cmake_config_fixup</li></a>
</ul>
<li class="list-expanded"><button class="button-list-can-expand">vcpkg-cmake-get-vars</button></li>
<ul class="standard-padding collapsable">
<a class="doc-outline-link" href="/en/docs/maintainers/ports/vcpkg-cmake-get-vars.html"><li class="list-can-expand">vcpkg-cmake-get-vars</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/ports/vcpkg-cmake-get-vars/vcpkg_cmake_get_vars.html"><li class="list-can-expand">vcpkg_cmake_get_vars</li></a>
</ul>
<li class="list-expanded"><button class="button-list-can-expand">vcpkg-get-python-packages</button></li>
<ul class="standard-padding collapsable">
<a class="doc-outline-link" href="/en/docs/maintainers/ports/vcpkg-get-python-packages.html"><li class="list-can-expand">vcpkg-get-python-packages</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/ports/vcpkg-get-python-packages/x_vcpkg_get_python_packages.html"><li class="list-can-expand">x_vcpkg_get_python_packages</li></a>
</ul>
<li class="list-expanded"><button class="button-list-can-expand">vcpkg-gn</button></li>
<ul class="standard-padding collapsable">
<a class="doc-outline-link" href="/en/docs/maintainers/ports/vcpkg-gn.html"><li class="list-can-expand">vcpkg-gn</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/ports/vcpkg-gn/vcpkg_gn_configure.html"><li class="list-can-expand">vcpkg_gn_configure</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/ports/vcpkg-gn/vcpkg_gn_install.html"><li class="list-can-expand">vcpkg_gn_install</li></a>
</ul>
<li class="list-expanded"><button class="button-list-can-expand">vcpkg-pkgconfig-get-modules</button></li>
<ul class="standard-padding collapsable">
<a class="doc-outline-link" href="/en/docs/maintainers/ports/vcpkg-pkgconfig-get-modules.html"><li class="list-can-expand">vcpkg-pkgconfig-get-modules</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/ports/vcpkg-pkgconfig-get-modules/x_vcpkg_pkgconfig_get_modules.html"><li class="list-can-expand">x_vcpkg_pkgconfig_get_modules</li></a>
</ul>
<li class="list-expanded"><button class="button-list-can-expand">vcpkg-qmake</button></li>
<ul class="standard-padding collapsable">
<a class="doc-outline-link" href="/en/docs/maintainers/ports/vcpkg-qmake.html"><li class="list-can-expand">vcpkg-qmake</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/ports/vcpkg-qmake/vcpkg_qmake_configure.html"><li class="list-can-expand">vcpkg_qmake_configure</li></a>
</ul>
<a class="doc-outline-link" href="/en/docs/maintainers/ports/vcpkg-cmake.html"><li class="list-can-expand">vcpkg-cmake</li></a>
</ul>
<a class="doc-outline-link" href="/en/docs/maintainers/authoring-script-ports.html"><li class="list-can-expand">Authoring Script Ports</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/cmake-guidelines.html"><li class="list-can-expand">CMake Guidelines</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/control-files.html"><li class="list-can-expand">CONTROL files</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/execute_process.html"><li class="list-can-expand">execute_process</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/maintainer-guide.html"><li class="list-can-expand">Maintainer Guidelines and Policies</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/manifest-files.html"><li class="list-can-expand">Manifest files - <code>vcpkg.json</code></li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/portfile-functions.html"><li class="list-can-expand">Portfile Helper Functions</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/pr-review-checklist.html"><li class="list-can-expand">PR Checklist</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/registries.html"><li class="list-can-expand">Creating Registries</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_acquire_msys.html"><li class="list-can-expand">vcpkg_acquire_msys</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_add_to_path.html"><li class="list-can-expand">vcpkg_add_to_path</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_apply_patches.html"><li class="list-can-expand">vcpkg_apply_patches</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_backup_restore_env_vars.html"><li class="list-can-expand">vcpkg_backup_restore_env_vars</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_buildpath_length_warning.html"><li class="list-can-expand">vcpkg_buildpath_length_warning</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_build_cmake.html"><li class="list-can-expand">vcpkg_build_cmake</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_build_make.html"><li class="list-can-expand">vcpkg_build_make</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_build_msbuild.html"><li class="list-can-expand">vcpkg_build_msbuild</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_build_ninja.html"><li class="list-can-expand">vcpkg_build_ninja</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_build_nmake.html"><li class="list-can-expand">vcpkg_build_nmake</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_build_qmake.html"><li class="list-can-expand">vcpkg_build_qmake</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_check_features.html"><li class="list-can-expand">vcpkg_check_features</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_check_linkage.html"><li class="list-can-expand">vcpkg_check_linkage</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_clean_executables_in_bin.html"><li class="list-can-expand">vcpkg_clean_executables_in_bin</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_clean_msbuild.html"><li class="list-can-expand">vcpkg_clean_msbuild</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_cmake_build.html"><li class="list-can-expand">vcpkg_cmake_build</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_cmake_configure.html"><li class="list-can-expand">vcpkg_cmake_configure</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_cmake_install.html"><li class="list-can-expand">vcpkg_cmake_install</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_common_definitions.html"><li class="list-can-expand">vcpkg_common_definitions</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_configure_cmake.html"><li class="list-can-expand">vcpkg_configure_cmake</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_configure_gn.html"><li class="list-can-expand">vcpkg_configure_gn</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_configure_make.html"><li class="list-can-expand">vcpkg_configure_make</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_configure_meson.html"><li class="list-can-expand">vcpkg_configure_meson</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_configure_qmake.html"><li class="list-can-expand">vcpkg_configure_qmake</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_copy_pdbs.html"><li class="list-can-expand">vcpkg_copy_pdbs</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_copy_tools.html"><li class="list-can-expand">vcpkg_copy_tools</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_copy_tool_dependencies.html"><li class="list-can-expand">vcpkg_copy_tool_dependencies</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_download_distfile.html"><li class="list-can-expand">vcpkg_download_distfile</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_execute_build_process.html"><li class="list-can-expand">vcpkg_execute_build_process</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_execute_in_download_mode.html"><li class="list-can-expand">vcpkg_execute_in_download_mode</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_execute_required_process.html"><li class="list-can-expand">vcpkg_execute_required_process</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_execute_required_process_repeat.html"><li class="list-can-expand">vcpkg_execute_required_process_repeat</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_extract_source_archive.html"><li class="list-can-expand">vcpkg_extract_source_archive</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_extract_source_archive_ex.html"><li class="list-can-expand">vcpkg_extract_source_archive_ex</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_fail_port_install.html"><li class="list-can-expand">vcpkg_fail_port_install</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_find_acquire_program.html"><li class="list-can-expand">vcpkg_find_acquire_program</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_find_fortran.html"><li class="list-can-expand">vcpkg_find_fortran</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_fixup_cmake_targets.html"><li class="list-can-expand">vcpkg_fixup_cmake_targets</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_fixup_pkgconfig.html"><li class="list-can-expand">vcpkg_fixup_pkgconfig</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_from_bitbucket.html"><li class="list-can-expand">vcpkg_from_bitbucket</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_from_git.html"><li class="list-can-expand">vcpkg_from_git</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_from_github.html"><li class="list-can-expand">vcpkg_from_github</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_from_gitlab.html"><li class="list-can-expand">vcpkg_from_gitlab</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_from_sourceforge.html"><li class="list-can-expand">vcpkg_from_sourceforge</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_get_program_files_platform_bitness.html"><li class="list-can-expand">vcpkg_get_program_files_platform_bitness</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_get_windows_sdk.html"><li class="list-can-expand">vcpkg_get_windows_sdk</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_host_path_list.html"><li class="list-can-expand">vcpkg_host_path_list</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_install_cmake.html"><li class="list-can-expand">vcpkg_install_cmake</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_install_copyright.html"><li class="list-can-expand">vcpkg_install_copyright</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_install_gn.html"><li class="list-can-expand">vcpkg_install_gn</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_install_make.html"><li class="list-can-expand">vcpkg_install_make</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_install_meson.html"><li class="list-can-expand">vcpkg_install_meson</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_install_msbuild.html"><li class="list-can-expand">vcpkg_install_msbuild</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_install_nmake.html"><li class="list-can-expand">vcpkg_install_nmake</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_install_qmake.html"><li class="list-can-expand">vcpkg_install_qmake</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_list.html"><li class="list-can-expand">vcpkg_list</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_minimum_required.html"><li class="list-can-expand">vcpkg_minimum_required</li></a>
<a class="doc-outline-link" href="/en/docs/maintainers/vcpkg_replace_string.html"><li class="list-can-expand">vcpkg_replace_string</li></a>
</ul>
<li class="list-expanded"><button class="button-list-can-expand">Specifications</button></li>
<ul class="standard-padding collapsable">
<a class="doc-outline-link" href="https://github.com/microsoft/vcpkg/tree/master/docs/specifications/binarycaching.md"><li class="list-can-expand">Binary Caching v1.1 (Jul 14, 2020)</li></a>
<a class="doc-outline-link" href="https://github.com/microsoft/vcpkg/tree/master/docs/specifications/export-command.md"><li class="list-can-expand">Binary Export (Apr 28, 2017)</li></a>
<a class="doc-outline-link" href="https://github.com/microsoft/vcpkg/tree/master/docs/specifications/feature-packages.md"><li class="list-can-expand">Proposal: Features / Feature packages (Feb 23 2017)</li></a>
<a class="doc-outline-link" href="https://github.com/microsoft/vcpkg/tree/master/docs/specifications/manifests.md"><li class="list-can-expand">Manifests -- <code>vcpkg.json</code></li></a>
<a class="doc-outline-link" href="https://github.com/microsoft/vcpkg/tree/master/docs/specifications/ports-overlay.md"><li class="list-can-expand">Ports Overlay (Jun 19, 2019)</li></a>
<a class="doc-outline-link" href="https://github.com/microsoft/vcpkg/tree/master/docs/specifications/prefab.md"><li class="list-can-expand">Vcpkg: export Android prefab Archives (AAR files)</li></a>
<a class="doc-outline-link" href="https://github.com/microsoft/vcpkg/tree/master/docs/specifications/registries-2.md"><li class="list-can-expand">Registries: Take 2 (including Git Registries)</li></a>
<a class="doc-outline-link" href="https://github.com/microsoft/vcpkg/tree/master/docs/specifications/registries.md"><li class="list-can-expand">Package Federation: Custom Registries</li></a>
<a class="doc-outline-link" href="https://github.com/microsoft/vcpkg/tree/master/docs/specifications/scripts-extraction.md"><li class="list-can-expand">Scripts Tree Extraction</li></a>
<a class="doc-outline-link" href="https://github.com/microsoft/vcpkg/tree/master/docs/specifications/versioning.md"><li class="list-can-expand">Versioning Specification </li></a>
</ul>
<li class="list-expanded"><button class="button-list-can-expand">Users</button></li>
<ul class="standard-padding collapsable">
<li class="list-expanded"><button class="button-list-can-expand">Buildsystems</button></li>
<ul class="standard-padding collapsable">
<a class="doc-outline-link" href="/en/docs/users/buildsystems/cmake-integration.html"><li class="list-can-expand">CMake Integration</li></a>
<a class="doc-outline-link" href="/en/docs/users/buildsystems/export-command.html"><li class="list-can-expand"><code>export</code> Command</li></a>
<a class="doc-outline-link" href="/en/docs/users/buildsystems/integration.html"><li class="list-can-expand">Buildsystem Integration</li></a>
<a class="doc-outline-link" href="/en/docs/users/buildsystems/manual-integration.html"><li class="list-can-expand">Manual Integration</li></a>
<a class="doc-outline-link" href="/en/docs/users/buildsystems/msbuild-integration.html"><li class="list-can-expand">MSBuild Integration (Visual Studio)</li></a>
</ul>
<a class="doc-outline-link" href="/en/docs/users/android.html"><li class="list-can-expand">Vcpkg and Android</li></a>
<a class="doc-outline-link" href="/en/docs/users/assetcaching.html"><li class="list-can-expand">Asset Caching</li></a>
<a class="doc-outline-link" href="/en/docs/users/authentication.html"><li class="list-can-expand">Authentication for Source Code</li></a>
<a class="doc-outline-link" href="/en/docs/users/binarycaching.html"><li class="list-can-expand">Binary Caching</li></a>
<a class="doc-outline-link" href="/en/docs/users/config-environment.html"><li class="list-can-expand">Environment and Configuration</li></a>
<a class="doc-outline-link" href="/en/docs/users/host-dependencies.html"><li class="list-can-expand">Host Dependencies</li></a>
<a class="doc-outline-link" href="/en/docs/users/manifests.html"><li class="list-can-expand">Manifest Mode</li></a>
<a class="doc-outline-link" href="/en/docs/users/mingw.html"><li class="list-can-expand">Vcpkg and Mingw-w64</li></a>
<a class="doc-outline-link" href="/en/docs/users/registries.html"><li class="list-can-expand">Using Registries</li></a>
<a class="doc-outline-link" href="/en/docs/users/selecting-library-features.html"><li class="list-can-expand">Selecting Library Features</li></a>
<a class="doc-outline-link" href="/en/docs/users/triplets.html"><li class="list-can-expand">Triplet Files</li></a>
<a class="doc-outline-link" href="/en/docs/users/versioning.implementation-details.html"><li class="list-can-expand">Versioning: Implementation details</li></a>
<a class="doc-outline-link" href="/en/docs/users/versioning.html"><li class="list-can-expand">Versioning</li></a>
</ul>
<a class="doc-outline-link" href="/en/docs/README.html"><li class="list-can-expand">Quick Start</li></a>
</ul>
</div>
      <script>
        $("#docsNavPane .collapsable").removeClass("collapsable").addClass("collapse");
        $("#docsNavPane .list-expanded").removeClass("list-expanded").addClass("list-can-expand");
        $(() => {
            setScrollFocus();
            initDocumentation();
        });
      </script>
</nav><main class="right-side" id="main">
<div class="docs-mobile-show"><img class="docs-mobile-show-table" src="/assets/misc/table-docs.svg">Table of Contents</div>
<h1 id="maintainer-guidelines-and-policies">Maintainer Guidelines and Policies</h1>
<p>This document lists a set of policies that you should apply when adding or updating a port recipe.
It is intended to serve the role of
<a href="https://www.debian.org/doc/debian-policy/">Debian's Policy Manual</a>,
<a href="https://docs.brew.sh/Maintainer-Guidelines">Homebrew's Maintainer Guidelines</a>, and
<a href="https://docs.brew.sh/Formula-Cookbook">Homebrew's Formula Cookbook</a>.</p>
<h2 id="pr-structure">PR Structure</h2>
<h3 id="make-separate-pull-requests-per-port">Make separate Pull Requests per port</h3>
<p>Whenever possible, separate changes into multiple PRs.
This makes them significantly easier to review and prevents issues with one set of changes from holding up every other change.</p>
<h3 id="avoid-trivial-changes-in-untouched-files">Avoid trivial changes in untouched files</h3>
<p>For example, avoid reformatting or renaming variables in portfiles that otherwise have no reason to be modified for the issue at hand.
However, if you need to modify the file for the primary purpose of the PR (updating the library),
then obviously beneficial changes like fixing typos are appreciated!</p>
<h3 id="check-names-against-other-repositories">Check names against other repositories</h3>
<p>A good service to check many at once is <a href="https://repology.org/">Repology</a>.
If the library you are adding could be confused with another one,
consider renaming to make it clear. We prefer when names are longer and/or
unlikely to conflict with any future use of the same name. If the port refers
to a library on GitHub, a good practice is to prefix the name with the organization
if there is any chance of confusion.</p>
<h3 id="use-github-draft-prs">Use GitHub Draft PRs</h3>
<p>GitHub Draft PRs are a great way to get CI or human feedback on work that isn't yet ready to merge.
Most new PRs should be opened as drafts and converted to normal PRs once the CI passes.</p>
<p>More information about GitHub Draft PRs:
<a href="https://github.blog/2019-02-14-introducing-draft-pull-requests/">https://github.blog/2019-02-14-introducing-draft-pull-requests/</a></p>
<h2 id="portfiles">Portfiles</h2>
<h3 id="avoid-deprecated-helper-functions">Avoid deprecated helper functions</h3>
<p>At this time, the following helpers are deprecated:</p>
<ul>
<li><a href="vcpkg_extract_source_archive_ex.html"><code>vcpkg_extract_source_archive_ex()</code></a> should be replaced by the supported overload of [<code>vcpkg_extract_source_archive()</code>] (with <code>ARCHIVE</code>)</li>
<li>The deprecated overload of [<code>vcpkg_extract_source_archive()</code>] without <code>ARCHIVE</code> should be replaced by the supported overload with <code>ARCHIVE</code>.</li>
<li><code>vcpkg_apply_patches()</code> should be replaced by the <code>PATCHES</code> arguments to the "extract" helpers (e.g. <a href="vcpkg_from_github.html"><code>vcpkg_from_github()</code></a>)</li>
<li><code>vcpkg_build_msbuild()</code> should be replaced by <a href="vcpkg_install_msbuild.html"><code>vcpkg_install_msbuild()</code></a></li>
<li><code>vcpkg_copy_tool_dependencies()</code> should be replaced by <a href="vcpkg_copy_tools.html"><code>vcpkg_copy_tools()</code></a></li>
<li><code>vcpkg_configure_cmake</code> should be replaced by <a href="vcpkg_cmake_configure.html"><code>vcpkg_cmake_configure()</code></a> after removing <code>PREFER_NINJA</code> (from port <a href="ports/vcpkg-cmake.html"><code>vcpkg-cmake</code></a>)</li>
<li><code>vcpkg_build_cmake</code> should be replaced by <a href="vcpkg_cmake_build.html"><code>vcpkg_cmake_build()</code></a> (from port <a href="ports/vcpkg-cmake.html"><code>vcpkg-cmake</code></a>)</li>
<li><code>vcpkg_install_cmake</code> should be replaced by <a href="vcpkg_cmake_install.html"><code>vcpkg_cmake_install()</code></a> (from port <a href="ports/vcpkg-cmake.html"><code>vcpkg-cmake</code></a>)</li>
<li><code>vcpkg_fixup_cmake_targets</code> should be replaced by <a href="ports/vcpkg-cmake-config/vcpkg_cmake_config_fixup.html#vcpkg_cmake_config_fixup"><code>vcpkg_cmake_config_fixup</code></a> (from port <a href="ports/vcpkg-cmake-config.html#vcpkg-cmake-config"><code>vcpkg-cmake-config</code></a>)</li>
</ul>
<p>Some of the replacement helper functions are in "tools ports" to allow consumers to pin their
behavior at specific versions, to allow locking the behavior of the helpers at a particular
version. Tools ports need to be added to your port's <code>"dependencies"</code>, like so:</p>
<pre><code class="json language-json">{
  "name": "vcpkg-cmake",
  "host": true
},
{
  "name": "vcpkg-cmake-config",
  "host": true
}</code></pre>
<h3 id="avoid-excessive-comments-in-portfiles">Avoid excessive comments in portfiles</h3>
<p>Ideally, portfiles should be short, simple, and as declarative as possible.
Remove any boiler plate comments introduced by the <code>create</code> command before submitting a PR.</p>
<h3 id="ports-must-not-be-path-dependent">Ports must not be path dependent</h3>
<p>Ports must not change their behavior based on which ports are already installed in a form that would change which contents that port installs. For example, given:</p>
<pre><code>&gt; vcpkg install a
&gt; vcpkg install b
&gt; vcpkg remove a</code></pre>
<p>and</p>
<pre><code>&gt; vcpkg install b</code></pre>
<p>the files installed by <code>b</code> must be the same, regardless of influence by the previous installation of <code>a</code>. This means that ports must not try to detect whether something is provided in the installed tree by another port before taking some action. A specific and common cause of such "path dependent" behavior is described below in "When defining features, explicitly control dependencies."</p>
<h3 id="unique-port-attribution-rule">Unique port attribution rule</h3>
<p>In the entire vcpkg system, no two ports a user is expected to use concurrently may provide the same file. If a port tries to install a file already provided by another file, installation will fail. If a port wants to use an extremely common name for a header, for example, it should place those headers in a subdirectory rather than in <code>include</code>.</p>
<h3 id="add-cmake-exports-in-an-unofficial--namespace">Add CMake exports in an unofficial- namespace</h3>
<p>A core design ideal of vcpkg is to not create "lock-in" for customers. In the build system, there should be no difference between depending on a library from the system, and depending on a library from vcpkg. To that end, we avoid adding CMake exports or targets to existing libraries with "the obvious name", to allow upstreams to add their own official CMake exports without conflicting with vcpkg.</p>
<p>To that end, any CMake configs that the port exports, which are not in the upstream library, should have <code>unofficial-</code> as a prefix. Any additional targets should be in the <code>unofficial::&lt;port&gt;::</code> namespace.</p>
<p>This means that the user should see:</p>
<ul>
<li><code>find_package(unofficial-&lt;port&gt; CONFIG)</code> as the way to get at the unique-to-vcpkg package</li>
<li><code>unofficial::&lt;port&gt;::&lt;target&gt;</code> as an exported target from that port.</li>
</ul>
<p>Examples:</p>
<ul>
<li><a href="https://github.com/microsoft/vcpkg/blob/4f0a640e4c5b74166b759a862d7527c930eff32e/ports/brotli/install.patch"><code>brotli</code></a> creates the <code>unofficial-brotli</code> package, producing target <code>unofficial::brotli::brotli</code>.</li>
</ul>
<h3 id="install-copyright-file">Install copyright file</h3>
<p>Each port has to provide a file named <code>copyright</code> in the folder <code>${CURRENT_PACKAGES_DIR}/share/${PORT}</code>.</p>
<p>Many ports are using this code to install a copyright file:</p>
<pre><code class="cmake language-cmake">file(INSTALL "${SOURCE_PATH}LICENSE" DESTINATION "${CURRENT_PACKAGES_DIR}/share/${PORT}" RENAME copyright)</code></pre>
<p>This is discouraged in favour of <a href="vcpkg_install_copyright.html"><code>vcpkg_install_copyright()</code></a>. New ports should use <code>vcpkg_install_copyright()</code> instead. However, it is still valid for existing ports to use something like the code above. You may replace this with <code>vcpkg_install_copyright</code> but you don't have to.</p>
<p><code>vcpkg_install_copyright</code> also includes the functionallity to handle multiple copyright files. See its <a href="vcpkg_install_copyright.html">documentation</a> for more info.</p>
<h2 id="features">Features</h2>
<h3 id="do-not-use-features-to-implement-alternatives">Do not use features to implement alternatives</h3>
<p>Features must be treated as additive functionality. If port[featureA] installs and port[featureB] installs, then port[featureA,featureB] must install. Moreover, if a second port depends on [featureA] and a third port depends on [featureB], installing both the second and third ports should have their dependencies satisfied.</p>
<p>Libraries in this situation must choose one of the available options as expressed in vcpkg, and users who want a different setting must use overlay ports at this time.</p>
<p>Existing examples we would not accept today retained for backwards compatibility:</p>
<ul>
<li><code>libgit2</code>, <code>libzip</code>, <code>open62541</code> all have features for selecting a TLS or crypto backend. Note that <code>curl</code> has different crypto backend options but allows selecting between them at runtime, meaning the above tenet is maintained.</li>
<li><code>darknet</code> has <code>opencv2</code>, <code>opencv3</code>, features to control which version of opencv to use for its dependencies.</li>
</ul>
<h3 id="a-feature-may-engage-preview-or-beta-functionality">A feature may engage preview or beta functionality</h3>
<p>Notwithstanding the above, if there is a preview branch or similar where the preview functionality has a high probability of not disrupting the non-preview functionality (for example, no API removals), a feature is acceptable to model this setting.</p>
<p>Examples:</p>
<ul>
<li>The Azure SDKs (of the form <code>azure-Xxx</code>) have a <code>public-preview</code> feature.</li>
<li><code>imgui</code> has an <code>experimental-docking</code> feature which engages their preview docking branch which uses a merge commit attached to each of their public numbered releases.</li>
</ul>
<h3 id="default-features-should-enable-behaviors-not-apis">Default features should enable behaviors, not APIs</h3>
<p>If a consumer is depending directly upon a library, they can list out any desired features easily (<code>library[feature1,feature2]</code>). However, if a consumer <em>does not know</em> they are using a library, they cannot list out those features. If that hidden library is like <code>libarchive</code> where features are adding additional compression algorithms (and thus behaviors) to an existing generic interface, default features offer a way to ensure a reasonably functional transitive library is built even if the final consumer doesn't name it directly.</p>
<p>If the feature adds additional APIs (or executables, or library binaries) and doesn't modify the behavior of existing APIs, it should be left off by default. This is because any consumer which might want to use those APIs can easily require it via their direct reference.</p>
<p>If in doubt, do not mark a feature as default.</p>
<h3 id="do-not-use-features-to-control-alternatives-in-published-interfaces">Do not use features to control alternatives in published interfaces</h3>
<p>If a consumer of a port depends on only the core functionality of that port, with high probability they must not be broken by turning on the feature. This is even more important when the alternative is not directly controlled by the consumer, but by compiler settings like <code>/std:c++17</code> / <code>-std=c++17</code>.</p>
<p>Existing examples we would not accept today retained for backwards compatibility:</p>
<ul>
<li><code>redis-plus-plus[cxx17]</code> controls a polyfill but does not bake the setting into the installed tree.</li>
<li><code>ace[wchar]</code> changes all APIs to accept <code>const wchar_t*</code> rather than <code>const char*</code>.</li>
</ul>
<h3 id="a-feature-may-replace-polyfills-with-aliases-provided-that-replacement-is-baked-into-the-installed-tree">A feature may replace polyfills with aliases provided that replacement is baked into the installed tree</h3>
<p>Notwithstanding the above, ports may remove polyfills with a feature, as long as:</p>
<ol>
<li>Turning on the feature changes the polyfills to aliases of the polyfilled entity</li>
<li>The state of the polyfill is baked into the installed headers, such that ABI mismatch "impossible" runtime errors are unlikely</li>
<li>It is possible for a consumer of the port to write code which works in both modes, for example by using a typedef which is either polyfilled or not</li>
</ol>
<p>Example:</p>
<ul>
<li><code>abseil[cxx17]</code> changes <code>absl::string_view</code> to a replacement or <code>std::string_view</code>; the patch
<a href="https://github.com/microsoft/vcpkg/blob/981e65ce0ac1f6c86e5a5ded7824db8780173c76/ports/abseil/fix-cxx-standard.patch">https://github.com/microsoft/vcpkg/blob/981e65ce0ac1f6c86e5a5ded7824db8780173c76/ports/abseil/fix-cxx-standard.patch</a> implements the baking requirement</li>
</ul>
<h3 id="recommended-solutions">Recommended solutions</h3>
<p>If it's critical to expose the underlying alternatives, we recommend providing messages at build time to instruct the user on how to copy the port into a private overlay:</p>
<pre><code class="cmake language-cmake">set(USING_DOG 0)
message(STATUS "This version of LibContosoFrobnicate uses the Kittens backend. To use the Dog backend instead, create an overlay port of this with USING_DOG set to 1 and the `kittens` dependency replaced with `dog`.")
message(STATUS "This recipe is at ${CMAKE_CURRENT_LIST_DIR}")
message(STATUS "See the overlay ports documentation at https://github.com/microsoft/vcpkg/blob/master/docs/specifications/ports-overlay.md")</code></pre>
<h2 id="build-techniques">Build Techniques</h2>
<h3 id="do-not-use-vendored-dependencies">Do not use vendored dependencies</h3>
<p>Do not use embedded copies of libraries.
All dependencies should be split out and packaged separately so they can be updated and maintained.</p>
<h3 id="prefer-using-cmake">Prefer using CMake</h3>
<p>When multiple buildsystems are available, prefer using CMake.
Additionally, when appropriate, it can be easier and more maintainable to rewrite alternative buildsystems into CMake using <code>file(GLOB)</code> directives.</p>
<p>Examples: <a href="https://github.com/microsoft/vcpkg/blob/master/docs/maintainers/maintainer-guide.md/../../../ports/abseil/portfile.cmake">abseil</a></p>
<h3 id="choose-either-static-or-shared-binaries">Choose either static or shared binaries</h3>
<p>By default, <code>vcpkg_cmake_configure()</code> will pass in the appropriate setting for <code>BUILD_SHARED_LIBS</code>,
however for libraries that don't respect that variable, you can switch on <code>VCPKG_LIBRARY_LINKAGE</code>:</p>
<pre><code class="cmake language-cmake">string(COMPARE EQUAL "${VCPKG_LIBRARY_LINKAGE}" "static" KEYSTONE_BUILD_STATIC)
string(COMPARE EQUAL "${VCPKG_LIBRARY_LINKAGE}" "dynamic" KEYSTONE_BUILD_SHARED)

vcpkg_cmake_configure(
    SOURCE_PATH ${SOURCE_PATH}
    OPTIONS
        -DKEYSTONE_BUILD_STATIC=${KEYSTONE_BUILD_STATIC}
        -DKEYSTONE_BUILD_SHARED=${KEYSTONE_BUILD_SHARED}
)</code></pre>
<h3 id="when-defining-features-explicitly-control-dependencies">When defining features, explicitly control dependencies</h3>
<p>When defining a feature that captures an optional dependency,
ensure that the dependency will not be used accidentally when the feature is not explicitly enabled.</p>
<pre><code class="cmake language-cmake">set(CMAKE_DISABLE_FIND_PACKAGE_ZLIB ON)
set(CMAKE_REQUIRE_FIND_PACKAGE_ZLIB OFF)
if ("zlib" IN_LIST FEATURES)
  set(CMAKE_DISABLE_FIND_PACKAGE_ZLIB OFF)
  set(CMAKE_REQUIRE_FIND_PACKAGE_ZLIB ON)
endif()

vcpkg_cmake_configure(
  SOURCE_PATH ${SOURCE_PATH}
  OPTIONS
    -DCMAKE_DISABLE_FIND_PACKAGE_ZLIB=${CMAKE_DISABLE_FIND_PACKAGE_ZLIB}
    -DCMAKE_REQUIRE_FIND_PACKAGE_ZLIB=${CMAKE_REQUIRE_FIND_PACKAGE_ZLIB}
)</code></pre>
<p>The snippet below using <code>vcpkg_check_features()</code> is equivalent,  <a href="vcpkg_check_features.html">see the documentation</a>.</p>
<pre><code class="cmake language-cmake">vcpkg_check_features(OUT_FEATURE_OPTIONS FEATURE_OPTIONS
  FEATURES
    "zlib"    CMAKE_REQUIRE_FIND_PACKAGE_ZLIB
  INVERTED_FEATURES
    "zlib"    CMAKE_DISABLE_FIND_PACKAGE_ZLIB
)

vcpkg_cmake_configure(
    SOURCE_PATH ${SOURCE_PATH}
    OPTIONS
      ${FEATURE_OPTIONS}
)</code></pre>
<p>Note that <code>ZLIB</code> in the above is case-sensitive. See the <a href="https://cmake.org/cmake/help/v3.22/variable/CMAKE_DISABLE_FIND_PACKAGE_PackageName.html">CMAKE_DISABLE_FIND_PACKAGE_PackageName</a> and <a href="https://cmake.org/cmake/help/v3.22/variable/CMAKE_REQUIRE_FIND_PACKAGE_PackageName.html">CMAKE_REQUIRE_FIND_PACKAGE_PackageName</a> documnetation for more details.</p>
<h3 id="place-conflicting-libs-in-a-manual-link-directory">Place conflicting libs in a <code>manual-link</code> directory</h3>
<p>A lib is considered conflicting if it does any of the following:</p>
<ul>
<li>Define <code>main</code></li>
<li>Define malloc</li>
<li>Define symbols that are also declared in other libraries</li>
</ul>
<p>Conflicting libs are typically by design and not considered a defect.  Because some build systems link against everything in the lib directory, these should be moved into a subdirectory named <code>manual-link</code>.</p>
<h2 id="manifests-and-control-files">Manifests and CONTROL files</h2>
<p>When adding a new port, use the new manifest syntax for defining a port;
you may also change over to manifests when modifying an existing port.
You may do so easily by running the <code>vcpkg format-manifest</code> command, which will convert existing CONTROL
files into manifest files. Do not convert CONTROL files that have not been modified.</p>
<h2 id="versioning">Versioning</h2>
<h3 id="follow-common-conventions-for-the-version-field">Follow common conventions for the <code>"version"</code> field</h3>
<p>See our <a href="../users/versioning.html#version-schemes">versioning documentation</a> for a full explanation of our conventions.</p>
<h3 id="update-the-port-version-field-in-the-manifest-file-of-any-modified-ports">Update the <code>"port-version"</code> field in the manifest file of any modified ports</h3>
<p>vcpkg uses this field to determine whether a given port is out-of-date and should be changed whenever the port's behavior changes.</p>
<p>Our convention is to use the <code>"port-version"</code> field for changes to the port that don't change the upstream version, and to reset the <code>"port-version"</code> back to zero when an update to the upstream version is made.</p>
<p>For Example:</p>
<ul>
<li>Zlib's package version is currently <code>1.2.1</code>, with no explicit <code>"port-version"</code> (equivalent to a <code>"port-version"</code> of <code>0</code>).</li>
<li>You've discovered that the wrong copyright file has been deployed, and fixed that in the portfile.</li>
<li>You should update the <code>"port-version"</code> field in the manifest file to <code>1</code>.</li>
</ul>
<p>See our <a href="manifest-files.html#port-version">manifest files document</a> for a full explanation of our conventions.</p>
<h3 id="update-the-version-files-in-versions-of-any-modified-ports">Update the version files in <code>versions/</code> of any modified ports</h3>
<p>vcpkg uses a set of metadata files to power its versioning feature.
These files are located in the following locations:</p>
<ul>
<li><code>${VCPKG_ROOT}/versions/baseline.json</code>, (this file is common to all ports) and</li>
<li><code>${VCPKG_ROOT}/versions/${first-letter-of-portname}-/${portname}.json</code> (one per port).</li>
</ul>
<p>For example, for <code>zlib</code> the relevant files are:</p>
<ul>
<li><code>${VCPKG_ROOT}/versions/baseline.json</code></li>
<li><code>${VCPKG_ROOT}/versions/z-/zlib.json</code></li>
</ul>
<p>We expect that each time you update a port, you also update its version files.</p>
<p><strong>The recommended method to update these files is to run the <code>x-add-version</code> command, e.g.:</strong></p>
<pre><code>vcpkg x-add-version zlib</code></pre>
<p>If you're updating multiple ports at the same time, instead you can run:</p>
<pre><code>vcpkg x-add-version --all</code></pre>
<p>To update the files for all modified ports at once.</p>
<p><em>NOTE: These commands require you to have committed your changes to the ports before running them. The reason is that the Git SHA of the port directory is required in these version files. But don't worry, the <code>x-add-version</code> command will warn you if you have local changes that haven't been committed.</em></p>
<p>See our <a href="https://github.com/microsoft/vcpkg/blob/master/docs/specifications/versioning.md">versioning specification</a> and <a href="https://github.com/microsoft/vcpkg/blob/master/docs/specifications/registries-2.md">registries specification</a> to learn how vcpkg interacts with these files.</p>
<h2 id="patching">Patching</h2>
<h3 id="prefer-options-over-patching">Prefer options over patching</h3>
<p>It is preferable to set options in a call to <code>vcpkg_configure_xyz()</code> over patching the settings directly.</p>
<p>Common options that allow avoiding patching:</p>
<ol>
<li>[MSBUILD] <code>&lt;PropertyGroup&gt;</code> settings inside the project file can be overridden via <code>/p:</code> parameters</li>
<li>[CMAKE] Calls to <code>find_package(XYz)</code> in CMake scripts can be disabled via <a href="https://cmake.org/cmake/help/v3.15/variable/CMAKE_DISABLE_FIND_PACKAGE_PackageName.html"><code>-DCMAKE_DISABLE_FIND_PACKAGE_XYz=ON</code></a></li>
<li>[CMAKE] Cache variables (declared as <code>set(VAR "value" CACHE STRING "Documentation")</code> or <code>option(VAR "Documentation" "Default Value")</code>) can be overridden by just passing them in on the command line as <code>-DVAR:STRING=Foo</code>. One notable exception is if the <code>FORCE</code> parameter is passed to <code>set()</code>. See also the <a href="https://cmake.org/cmake/help/v3.15/command/set.html">CMake <code>set</code> documentation</a></li>
</ol>
<h3 id="prefer-patching-over-overriding-vcpkg_variable-values">Prefer patching over overriding <code>VCPKG_&lt;VARIABLE&gt;</code> values</h3>
<p>Some variables prefixed with <code>VCPKG_&lt;VARIABLE&gt;</code> have an equivalent <code>CMAKE_&lt;VARIABLE&gt;</code>.
However, not all of them are passed to the internal package build <a href="https://github.com/microsoft/vcpkg/blob/master/docs/maintainers/maintainer-guide.md/../../../scripts/toolchains/windows.cmake">(see implementation: Windows toolchain)</a>.</p>
<p>Consider the following example:</p>
<pre><code class="cmake language-cmake">set(VCPKG_C_FLAGS "-O2 ${VCPKG_C_FLAGS}")
set(VCPKG_CXX_FLAGS "-O2 ${VCPKG_CXX_FLAGS}")</code></pre>
<p>Using <code>vcpkg</code>'s built-in toolchains this works, because the value of <code>VCPKG_&lt;LANG&gt;_FLAGS</code> is forwarded to the appropriate <code>CMAKE_LANG_FLAGS</code> variable. But, a custom toolchain that is not aware of <code>vcpkg</code>'s variables will not forward them.</p>
<p>Because of this, it is preferable to patch the buildsystem directly when setting <code>CMAKE_&lt;LANG&gt;_FLAGS</code>.</p>
<h3 id="minimize-patches">Minimize patches</h3>
<p>When making changes to a library, strive to minimize the final diff. This means you should <em>not</em> reformat the upstream source code when making changes that affect a region. Also, when disabling a conditional, it is better to add a <code>AND FALSE</code> or <code>&amp;&amp; 0</code> to the condition than to delete every line of the conditional.</p>
<p>Don't add patches if the port is outdated and updating the port to a newer released version would solve the same issue. vcpkg prefers updating ports over patching outdated versions unless the version bump breaks a considerable amount of dependent ports.</p>
<p>This helps to keep the size of the vcpkg repository down as well as improves the likelihood that the patch will apply to future code versions.</p>
<h3 id="do-not-implement-features-in-patches">Do not implement features in patches</h3>
<p>The purpose of patching in vcpkg is to enable compatibility with compilers, libraries, and platforms. It is not to implement new features in lieu of following proper Open Source procedure (submitting an Issue/PR/etc).</p>
<h2 id="do-not-build-testsdocsexamples-by-default">Do not build tests/docs/examples by default</h2>
<p>When submitting a new port, check for any options like <code>BUILD_TESTS</code> or <code>WITH_TESTS</code> or <code>POCO_ENABLE_SAMPLES</code> and ensure the additional binaries are disabled. This minimizes build times and dependencies for the average user.</p>
<p>Optionally, you can add a <code>test</code> feature which enables building the tests, however this should not be in the <code>Default-Features</code> list.</p>
<h2 id="enable-existing-users-of-the-library-to-switch-to-vcpkg">Enable existing users of the library to switch to vcpkg</h2>
<h3 id="do-not-add-cmake_windows_export_all_symbols">Do not add <code>CMAKE_WINDOWS_EXPORT_ALL_SYMBOLS</code></h3>
<p>Unless the author of the library is already using it, we should not use this CMake functionality because it interacts poorly with C++ templates and breaks certain compiler features. Libraries that don't provide a .def file and do not use __declspec() declarations simply do not support shared builds for Windows and should be marked as such with <code>vcpkg_check_linkage(ONLY_STATIC_LIBRARY)</code>.</p>
<h3 id="do-not-rename-binaries-outside-the-names-given-by-upstream">Do not rename binaries outside the names given by upstream</h3>
<p>This means that if the upstream library has different names in release and debug (libx versus libxd), then the debug library should not be renamed to <code>libx</code>. Vice versa, if the upstream library has the same name in release and debug, we should not introduce a new name.</p>
<p>Important caveat:</p>
<ul>
<li>Static and shared variants often should be renamed to a common scheme. This enables consumers to use a common name and be ignorant of the downstream linkage. This is safe because we only make one at a time available.</li>
</ul>
<p>Note that if a library generates CMake integration files (<code>foo-config.cmake</code>), renaming must be done through patching the CMake build itself instead of simply calling <code>file(RENAME)</code> on the output archives/LIBs.</p>
<p>Finally, DLL files on Windows should never be renamed post-build because it breaks the generated LIBs.</p>
<h2 id="code-format">Code format</h2>
<h3 id="vcpkg-internal-code">vcpkg internal code</h3>
<p>We require the C++ code inside vcpkg to follow the clang-format, if you change them. Please perform the following steps after modification:</p>
<ul>
<li>Use Visual Studio:</li>
</ul>
<ol>
<li>Configure your <a href="https://devblogs.microsoft.com/cppblog/clangformat-support-in-visual-studio-2017-15-7-preview-1/">clang-format tools</a>.</li>
<li>Open the modified file.</li>
<li>Use shortcut keys Ctrl+K, Ctrl+D to format the current file.</li>
</ol>
<ul>
<li>Use tools:</li>
</ul>
<ol>
<li>Install <a href="https://releases.llvm.org/download.html#10.0.0">llvm clang-format</a></li>
<li>Run command:</li>
</ol>
<pre><code class="cmd language-cmd">&gt; LLVM_PATH/bin/clang-format.exe -style=file -i changed_file.cpp</code></pre>
<h3 id="manifests">Manifests</h3>
<p>We require that the manifest file be formatted. Use the following command to format all manifest files:</p>
<pre><code class="cmd language-cmd">&gt; vcpkg format-manifest --all</code></pre>
<h2 id="useful-implementation-notes">Useful implementation notes</h2>
<h3 id="portfiles-are-run-in-script-mode">Portfiles are run in Script Mode</h3>
<p>While <code>portfile.cmake</code>'s and <code>CMakeLists.txt</code>'s share a common syntax and core CMake language constructs, portfiles run in "Script Mode", whereas <code>CMakeLists.txt</code> files run in "Build Mode" (unofficial term). The most important difference between these two modes is that "Script Mode" does not have a concept of "Target" -- any behaviors that depend on the "target" machine (<code>CMAKE_CXX_COMPILER</code>, <code>CMAKE_EXECUTABLE_SUFFIX</code>, <code>CMAKE_SYSTEM_NAME</code>, etc) will not be correct.</p>
<p>Portfiles have direct access to variables set in the triplet file, but <code>CMakeLists.txt</code>s do not (though there is often a translation that happens -- <code>VCPKG_LIBRARY_LINKAGE</code> versus <code>BUILD_SHARED_LIBS</code>).</p>
<p>Portfiles and CMake builds invoked by portfiles are run in different processes. Conceptually:</p>
<pre><code class="no-highlight language-no-highlight">+----------------------------+       +------------------------------------+
| CMake.exe                  |       | CMake.exe                          |
+----------------------------+       +------------------------------------+
| Triplet file               | ====&gt; | Toolchain file                     |
| (x64-windows.cmake)        |       | (scripts/buildsystems/vcpkg.cmake) |
+----------------------------+       +------------------------------------+
| Portfile                   | ====&gt; | CMakeLists.txt                     |
| (ports/foo/portfile.cmake) |       | (buildtrees/../CMakeLists.txt)     |
+----------------------------+       +------------------------------------+</code></pre>
<p>To determine the host in a portfile, the standard CMake variables are fine (<code>CMAKE_HOST_WIN32</code>).</p>
<p>To determine the target in a portfile, the vcpkg triplet variables should be used (<code>VCPKG_CMAKE_SYSTEM_NAME</code>).</p>
<p>See also our <a href="../users/triplets.html">triplet documentation</a> for a full enumeration of possible settings.</p>
</main></div><div id="loadFooter"><footer class="footer">
  <div class="footer-info">
    <div class="footer-left">
      <div class="footer-info-group">
        <div class="footer-heading">
          <img class="" src="/assets/mark/footer-vcpkg.svg" />
          <img class="" src="/assets/mark/vcpkg.svg" />
        </div>
      </div>
      <div class="footer-info-group footer-list">
        <div class="footer-heading">Get Started</div>
        <div class="footer-description">
          <a
            class="footer-link"
            href="/en/getting-started.html?platform=windows"
            >Windows</a
          >
        </div>
        <div class="footer-description">
          <a class="footer-link" href="/en/getting-started.html?platform=linux"
            >Linux</a
          >
        </div>
        <div class="footer-description">
          <a class="footer-link" href="/en/getting-started.html?platform=mac"
            >Mac</a
          >
        </div>
      </div>
      <div class="footer-info-group footer-list">
        <div class="footer-heading">Stay in Touch</div>
        <div class="footer-description">
          <a class="footer-link" href="mailto:vcpkg@microsoft.com">
            <img class="footer-group-logo" src="/assets/external-icons/email.svg" />
            Email
          </a>
        </div>
        <div class="footer-description hidden">
          <a class="footer-link" href="#">
            <img class="footer-group-logo" src="/assets/external-icons/slack-1.svg" />
            Slack
          </a>
        </div>
        <div class="footer-description">
          <a class="footer-link" href="https://www.includecpp.org/">
            <img class="footer-group-logo" src="/assets/external-icons/discord.svg" />
            Discord
          </a>
        </div>
        <div class="footer-description">
          <a class="footer-link" href="https://github.com/microsoft/vcpkg">
            <img class="footer-group-logo" src="/assets/external-icons/github.svg" />
            Github
          </a>
        </div>
      </div>
    </div>
    <div class="footer-right">
      <div class="footer-info-group">
        <div class="footer-description">&#169; Microsoft</div>
      </div>
      <div class="footer-info-group">
        <div class="footer-description">
          <a class="footer-link" href="/en/docs/about/privacy.html">Privacy</a>
        </div>
      </div>
    </div>
  </div>
  <div style="position: relative"><div class="logo-footer"></div></div>
  <!--<img class="logo-footer" src="/assets/mark/logo-footer.svg" alt="vcpkg logo" title="vcpkg logo" />-->
</footer>
</div></html>
