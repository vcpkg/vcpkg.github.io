<head>
    <meta name="viewport" content="width=device-width">
    <link rel="icon" href="/assets/mark/mark.svg" />
        <link rel="icon" href="/assets/mark/favicon.png" />
        <link rel="mask-icon" href="/assets/mark/favicon-mask-icon.svg" />
    
        <!-- boostrap style sheet -->
        <link
          rel="stylesheet"
          href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
          integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk"
          crossorigin="anonymous"
        />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.7.1/build/styles/default.min.css">
    
        <!-- our style sheet and fonts -->
        <link
          href="https://fonts.googleapis.com/css2?family=Source+Code+Pro&family=Source+Sans+Pro:wght@400;700&display=swap"
          rel="stylesheet"
        />
        <link href="/css/common.css" rel="stylesheet" />
        <link href="/css/getting-started.css" rel="stylesheet" />
    
        <!-- bootstrap scripts -->
        <script type="text/javascript"
          src="https://js.monitor.azure.com/scripts/c/ms.analytics-web-3.min.js">
        </script>
        <script src="https://wcpstatic.microsoft.com/mscc/lib/v2/wcp-consent.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6"></script>
        <script
          src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
          integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI"
          crossorigin="anonymous"
        ></script>
        <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.7.1/build/highlight.min.js"></script>
        <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.7.1/build/languages/cmake.min.js"></script>
        <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.7.1/build/languages/powershell.min.js"></script>
    
        <!-- our scripts -->
        <script src="/dist/common.js"></script>
        <script src="/dist/documentation.js"></script>
    <script>
        $(function () {
          $('#loadFooter').load('/en/footer.html');
        });
      </script>
    </head>
    <div id="loadNavBar"></div>
    <div id="banner"></div>
    <div class="page">
    <nav class="left-side">
      <div class="docs-mobile-heading hidden">Table of Contents</div>
      <div class="docs-mobile-exit hidden"><img class="docs-mobile-exit-icon" src="/assets/misc/exit-docs.svg"></div>
      <div class="search-bar">
        <input
                  class="search-box"
                  id="pkg-search"
                  type="search"
                  name="search"
                  placeholder="Search"
                  autocomplete="off"
                  oninput=""
                />
        <ul class="search hidden">
        </ul>
      </div>
      <div id="docsNavPane"></div>
      <script>
        $('#loadNavBar').load('/en/navbar.html', setScrollFocus);
        $('#docsNavPane').load('/en/docs/navpane.html', function () {
          $(function () {
            initDocumentation();
          });
        });
      </script>
</nav><main class="right-side" id="main">
<div class="docs-mobile-show"><img class="docs-mobile-show-table" src="/assets/misc/table-docs.svg">Table of Contents</div>
<h2 id="packaging-github-repos-example-libogg">Packaging Github Repos Example: libogg</h2>
<h3 id="create-the-manifest-file">Create the manifest file</h3>
<p>The manifest file (called <code>vcpkg.json</code>) is a json file describing the package's metadata.</p>
<p>For libogg, we'll create the file <code>ports/libogg/vcpkg.json</code> with the following content:</p>
<pre><code class="json language-json">{
  "name": "libogg",
  "version-string": "1.3.3",
  "description": "Ogg is a multimedia container format, and the native file and stream format for the Xiph.org multimedia codecs."
}</code></pre>
<p>You can format the manifest file to our specifications with <code>vcpkg format-manifest ports/libogg/vcpkg.json</code>.</p>
<h3 id="create-the-portfile">Create the portfile</h3>
<p><code>portfile.cmake</code> describes how to build and install the package. First we download the project from Github with <a href="../maintainers/vcpkg_from_github.html"><code>vcpkg_from_github</code></a>:</p>
<pre><code class="cmake language-cmake">vcpkg_from_github(
    OUT_SOURCE_PATH SOURCE_PATH
    REPO xiph/ogg
    REF v1.3.3
    SHA512 0bd6095d647530d4cb1f509eb5e99965a25cc3dd9b8125b93abd6b248255c890cf20710154bdec40568478eb5c4cde724abfb2eff1f3a04e63acef0fbbc9799b
    HEAD_REF master
)</code></pre>
<p>The important parts to update are <code>REPO</code> for the GitHub repository path, <code>REF</code> for a stable tag/commit to use, and <code>SHA512</code> with the checksum of the downloaded zipfile (you can get this easily by setting it to <code>0</code>, trying to install the package, and copying the checksum).</p>
<p>Finally, we configure the project with CMake, install the package, and copy over the license file:</p>
<pre><code class="cmake language-cmake">vcpkg_configure_cmake(
    SOURCE_PATH ${SOURCE_PATH}
    PREFER_NINJA
)
vcpkg_install_cmake()
file(INSTALL ${SOURCE_PATH}/COPYING DESTINATION ${CURRENT_PACKAGES_DIR}/share/libogg RENAME copyright)</code></pre>
<p>Check the documentation for <a href="../maintainers/vcpkg_configure_cmake.html"><code>vcpkg_configure_cmake</code></a> and <a href="../maintainers/vcpkg_install_cmake.html"><code>vcpkg_install_cmake</code></a> if your package needs additional options. </p>
<p>Now you can run <code>vcpkg install libogg</code> to build and install the package.</p>
<h3 id="suggested-example-portfiles">Suggested example portfiles</h3>
<p>In the <code>ports/</code> directory are many libraries that can be used as examples, including many that are not based on CMake.</p>
<ul>
<li>Header only libraries<ul>
<li>rapidjson</li>
<li>range-v3</li></ul></li>
<li>MSBuild-based<ul>
<li>mpg123</li></ul></li>
<li>Non-CMake, custom buildsystem<ul>
<li>openssl</li>
<li>ffmpeg</li></ul></li>
</ul>
</main></div><div id="loadFooter"></div></html>
